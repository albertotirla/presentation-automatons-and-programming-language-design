# PRESENTATION

THE ROLE OF AUTOMATONS
IN PROGRAMMING LANGUAGE DESIGN

## overview

## an async primar

* async/await, what is it?
  * multytasking and why it actually matters
  * tasks, what are they?
  * preemptive and cooperative multitasking
  * operating systems, context switches and the call stack
  * why async and await is needed in programming languages, in fact, it's all just syntactic sugar over threading management
  
## the language of the day, rust

* how rust deals with async
* futures
* example, filesystem sync vs async
* the future trait, see [here](future_trait.rs)
* the `Pole` enum
* ctx and wakers
* pinning, briefly
* how do you wait for futures?
  * the busy loop, see [here](waiting_for_futures_busy_loop.rs)
  * future combinators, for example [this](waiting_for_futures_future_combinators.rs)
  * the async/await pattern, in code. See [this](waiting_for_futures_async_await_pattern.rs)

## the grand ending, automatons, futures->finite state automaton

for the function presented [before](waiting_for_futures_async_await_pattern.rs), the following automaton is generated by the compiler

* s={initial state, waiting on foo.txt, waiting on bar.txt, end}
* s0=initial state
* t=end
* delta=
  * delta(s0, s1)=s0
  * delta(s0, s1)=s1
  * delta(s1, s2)=s1
  * delta(s1, s2)=s2
  * delta(s2, s3)=s2
  * delta(s2, s3)=s3

not quite accurate code for that transformation can be found [here](from_futures_to_automatons.rs)

note: this is not how the compiler does it precisely, it uses a more optimised structure, for now it's [generators](https://doc.rust-lang.org/nightly/unstable-book/language-features/generators.html), but that's an implementation detail

## further reading and bibliography

* <https://rust-lang.github.io/async-book/>
* <https://www.codeproject.com/Articles/1087619/State-Machine-Design-in-Cplusplus-2>
* <https://www.javatpoint.com/preemptive-vs-cooperative-multitasking>
* <https://fasterthanli.me/articles/futures-nostalgia>
* <https://fasterthanli.me/articles/a-rust-match-made-in-hell>
* <https://fasterthanli.me/articles/understanding-rust-futures-by-going-way-too-deep>

THE
END
